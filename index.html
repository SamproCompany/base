<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>TÅ‚umacz PL â†’ EN (offline)</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: 20px auto; }
    #output { white-space: pre-wrap; background: #f0f0f0; padding: 10px; border-radius: 5px; min-height: 100px; }
    input, button { padding: 10px; margin-top: 10px; width: 100%; }
  </style>
</head>
<body>
  <h1>Polski âœ Angielski</h1>
  <div id="output">ğŸ”„ Åadowanie modelu...</div>
  <input id="userInput" placeholder="Wpisz coÅ› po polsku..." />
  <button onclick="translate()">PrzetÅ‚umacz</button>

  <script type="module">
    import { pipeline } from 'https://cdn.jsdelivr.net/npm/@xenova/transformers@2.6.0';

    let translator;
    const outputDiv = document.getElementById('output');

    async function loadModel() {
      translator = await pipeline('translation', 'Xenova/opus-mt-pl-en');
      outputDiv.textContent = "âœ… Model zaÅ‚adowany. Wpisz zdanie po polsku.";
    }

    async function translate() {
      const input = document.getElementById('userInput').value;
      if (!input) return;
      outputDiv.textContent = "ğŸ”„ TÅ‚umaczÄ™...";
      const result = await translator(input);
      outputDiv.textContent = `ğŸ‡µğŸ‡± ${input}\n\nğŸ‡¬ğŸ‡§ ${result[0].translation_text}`;
    }

    window.translate = translate; // udostÄ™pnienie funkcji globalnie
    loadModel();
  </script>
</body>
</html>
